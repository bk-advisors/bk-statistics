<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matthew Kuch">
<meta name="dcterms.date" content="2025-11-06">

<title>Linear Regression Playbook</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="index_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: black;
      }

      .quarto-title-block .quarto-title-banner {
        color: black;
      }
</style>


<link rel="stylesheet" href="style.css">
</head>

<body class="quarto-light">

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title"><span style="color:white">Linear Regression Playbook</span></h1>
            <p class="subtitle lead">A reference guide for future me and others who need it</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Matthew Kuch <a href="mailto:kuch.matthew@gmail.com" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 6, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#correlations-exploratory-questions" id="toc-correlations-exploratory-questions" class="nav-link" data-scroll-target="#correlations-exploratory-questions">Correlations (Exploratory Questions)</a></li>
  <li><a href="#predictive-models" id="toc-predictive-models" class="nav-link" data-scroll-target="#predictive-models">Predictive Models</a></li>
  </ul></li>
  <li><a href="#notes-and-references" id="toc-notes-and-references" class="nav-link" data-scroll-target="#notes-and-references">Notes and References:</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">





<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First we load the libraries and data</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)     <span class="co"># This lets you create plots with ggplot, manipulate data, etc.</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)         <span class="co"># This lets you convert regression models into nice tables</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelsummary)  <span class="co"># This lets you combine multiple regression models into a single table</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the data. </span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># It'd be a good idea to click on the "sat_gpa" object in the Environment panel</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># in RStudio to see what the data looks like after you load it.</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>sat_gpa <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"input/sat_gpa.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Using SAT and GPA data from Dartmouth College (<a href="https://chance.dartmouth.edu/course/Syllabi/Princeton96/Class12.html">“Chance” Course</a>) , the goal is to conduct some statistical analysis on this data to answer the questions listed in the sections below:</p>
<p>This is actually a form of People Analytics using Student Past Performance (e.g.&nbsp;SAT Grades) to Predict Future Performance.</p>
<p>Let’s say you are a university admissions officer and you are curious if SAT scores really do predict college performance. You’re also interested in other factors that could influence student performance.</p>
<p>The data contains 6 variables:</p>
<ul>
<li><p><code>sex</code>: The sex of the student (male or female; female is the base case)</p></li>
<li><p><code>sat_verbal</code>: The student’s <em>percentile</em> score in the verbal section of the SAT</p></li>
<li><p><code>sat_math</code>: The student’s <em>percentile</em> score in the math section of the SAT</p></li>
<li><p><code>sat_total</code>: <code>sat_verbal</code> + <code>sat_math</code></p></li>
<li><p><code>gpa_hs</code>: The student’s GPA in high school at graduation</p></li>
<li><p><code>gpa_fy</code>: The student’s GPA at the end of their freshman year</p></li>
</ul>
<section id="correlations-exploratory-questions" class="level3">
<h3 class="anchored" data-anchor-id="correlations-exploratory-questions">Correlations (Exploratory Questions)</h3>
<section id="how-well-do-sat-scores-correlate-with-freshman-gpa" class="level4">
<h4 class="anchored" data-anchor-id="how-well-do-sat-scores-correlate-with-freshman-gpa"><strong>1. How well do SAT scores correlate with freshman GPA?</strong></h4>
<section id="using-the-correlation-function" class="level5">
<h5 class="anchored" data-anchor-id="using-the-correlation-function">1.1 Using the Correlation Function</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(sat_gpa<span class="sc">$</span>sat_total,sat_gpa<span class="sc">$</span>gpa_fy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.460281</code></pre>
</div>
</div>
</section>
<section id="drawing-a-scatterplot-of-the-relationship-using-ggplot" class="level5">
<h5 class="anchored" data-anchor-id="drawing-a-scatterplot-of-the-relationship-using-ggplot">1.2 Drawing a scatterplot of the relationship using ggplot</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> sat_gpa, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>sat_total, <span class="at">y=</span>gpa_fy)) <span class="sc">+</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span> </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Total SAT Score"</span>, <span class="at">y=</span><span class="st">"Freshman GPA"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>…</p>
</section>
</section>
<section id="how-well-does-high-school-gpa-correlate-with-freshman-gpa" class="level4">
<h4 class="anchored" data-anchor-id="how-well-does-high-school-gpa-correlate-with-freshman-gpa"><strong>2. How well does high school GPA correlate with freshman GPA?</strong></h4>
<section id="using-the-correlation-function-1" class="level5">
<h5 class="anchored" data-anchor-id="using-the-correlation-function-1">2.1 Using the Correlation Function</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(sat_gpa<span class="sc">$</span>gpa_hs,sat_gpa<span class="sc">$</span>gpa_fy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.5433535</code></pre>
</div>
</div>
</section>
<section id="drawing-a-scatterplot-of-the-relationship-using-ggplot-1" class="level5">
<h5 class="anchored" data-anchor-id="drawing-a-scatterplot-of-the-relationship-using-ggplot-1">2.2 Drawing a scatterplot of the relationship using ggplot</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> sat_gpa, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>gpa_hs, <span class="at">y=</span>gpa_fy)) <span class="sc">+</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Highschool GPA"</span>, <span class="at">y=</span><span class="st">"Freshman GPA"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>…</p>
</section>
</section>
<section id="a.-is-the-correlation-between-sat-scores-and-freshman-gpa-stronger-for-men-or-for-women" class="level4">
<h4 class="anchored" data-anchor-id="a.-is-the-correlation-between-sat-scores-and-freshman-gpa-stronger-for-men-or-for-women"><strong>3A. Is the correlation between SAT scores and freshman GPA stronger for men or for women?</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>sat_gpa <span class="sc">|&gt;</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">correlation =</span> <span class="fu">cor</span>(sat_total,gpa_fy))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  sex    correlation
  &lt;chr&gt;        &lt;dbl&gt;
1 Female       0.493
2 Male         0.481</code></pre>
</div>
</div>
</section>
<section id="b.-is-the-correlation-between-highschool-gpa-and-freshman-gpa-stronger-for-men-or-for-women" class="level4">
<h4 class="anchored" data-anchor-id="b.-is-the-correlation-between-highschool-gpa-and-freshman-gpa-stronger-for-men-or-for-women"><strong>3B. Is the correlation between HighSchool GPA and freshman GPA stronger for men or for women?</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>sat_gpa <span class="sc">|&gt;</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">correlation =</span> <span class="fu">cor</span>(gpa_hs,gpa_fy))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  sex    correlation
  &lt;chr&gt;        &lt;dbl&gt;
1 Female       0.597
2 Male         0.483</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> sat_gpa, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>gpa_hs, <span class="at">y=</span>gpa_fy, <span class="at">color=</span>sex)) <span class="sc">+</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Highschool GPA"</span>, <span class="at">y=</span><span class="st">"Freshman GPA"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>….</p>
</section>
</section>
<section id="predictive-models" class="level3">
<h3 class="anchored" data-anchor-id="predictive-models">Predictive Models</h3>
<section id="do-sat-scores-predict-freshman-gpas" class="level4">
<h4 class="anchored" data-anchor-id="do-sat-scores-predict-freshman-gpas"><strong>4. Do SAT scores predict freshman GPAs?</strong></h4>
<p>A reminder of the formula we’ll be replicating when doing linear regression i.e.&nbsp;Y = mX + b, where:</p>
<ul>
<li><p>Y - the outcome variable</p></li>
<li><p>X - in the explanatory variable</p></li>
<li><p>m - is the slope (rise over run)</p></li>
<li><p>b - is the Y-intercept</p></li>
</ul>
<p>For this particular case, it can be represented by the formula below:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/linear-regression-equation.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<ul>
<li>Where the “E” looking symbol at the end represents the standard error</li>
</ul>
<p>The R-code to implement this, is below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>model_sat_gpa <span class="ot">&lt;-</span> <span class="fu">lm</span>(gpa_fy <span class="sc">~</span> sat_total, <span class="at">data =</span> sat_gpa) <span class="co"># You can read this as Freshman gpa "is explained by" / "~" SAT scores</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at the model results and include confidence intervals for the coefficients</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(model_sat_gpa, <span class="at">conf.int =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 7
  term        estimate std.error statistic  p.value conf.low conf.high
  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)  0.00193   0.152      0.0127 9.90e- 1  -0.296     0.300 
2 sat_total    0.0239    0.00146   16.4    1.39e-53   0.0210    0.0267</code></pre>
</div>
</div>
<p>Here’s what these coefficients mean:</p>
<ul>
<li><p>The Y-intercept (Beta-0) is 0.002, which means that the average freshman GPA will be 0.002 when the total SAT percentile score is 0. This is a pretty nonsensical number (nobody has a score that low), so we can ignore it.</p></li>
<li><p>The slope of <code>sat_total</code> (Beta-1) is 0.024, which means that a 1 percentile increase in SAT score is associated with a 0.024 point increase in GPA, on average. Rise over Run i.e.&nbsp;1% rise, 0.024 run.</p></li>
</ul>
<p>We can look at the summary table of the regression to check the R-squared (R^2) :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(model_sat_gpa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 12
  r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC   BIC
      &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     0.212         0.211 0.658      268. 1.39e-53     1  -999. 2005. 2019.
# ℹ 3 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;</code></pre>
</div>
</div>
<p>The R-squared here is 0.212, which means that SAT scores explain 21% of the variation in freshman GPA. It’s not a fantastic model, but it explains some stuff.</p>
<p>…</p>
</section>
<section id="does-a-certain-type-of-sat-score-have-a-larger-effect-on-freshman-gpas" class="level4">
<h4 class="anchored" data-anchor-id="does-a-certain-type-of-sat-score-have-a-larger-effect-on-freshman-gpas"><strong>5. Does a certain type of SAT score have a larger effect on freshman GPAs?</strong></h4>
<p>The 2 types of SAT scores are:</p>
<ul>
<li><p>SAT Verbal, and</p></li>
<li><p>SAT Math</p></li>
</ul>
<p>This particular case, can be represented by the formula below:</p>
<p><img src="assets/multi-variate-linear-regression.png" class="img-fluid"></p>
<p>Implementing this in R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>model_sat_gpa_types <span class="ot">&lt;-</span> <span class="fu">lm</span>(gpa_fy <span class="sc">~</span> sat_verbal <span class="sc">+</span> sat_math, <span class="at">data =</span> sat_gpa)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(model_sat_gpa_types, <span class="at">conf.int =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 7
  term        estimate std.error statistic  p.value conf.low conf.high
  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)  0.00737   0.152      0.0484 9.61e- 1  -0.291     0.306 
2 sat_verbal   0.0254    0.00286    8.88   3.07e-18   0.0198    0.0310
3 sat_math     0.0224    0.00279    8.04   2.58e-15   0.0169    0.0279</code></pre>
</div>
</div>
<ul>
<li><p>Again, the intercept is meaningless since no student has a zero on both the verbal and the math test.</p></li>
<li><p>The slope for&nbsp;<code>sat_verbal</code>&nbsp;(or Beta-1) is 0.025, so a one percentile point increase in the verbal SAT is associated with a 0.025 point increase in GPA, on average, controlling for math scores</p></li>
<li><p>Meanwhile, a one percentile point increase in the math SAT () is associated with a 0.022 point increase in GPA, on average, controlling for verbal scores.</p></li>
</ul>
<p>These are essentially the same, so at first glance, it doesn’t seem like the type of test has substantial bearing on college GPAs.</p>
<p><strong>Checking the Adjusted R-squared:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(model_sat_gpa_types)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 12
  r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC   BIC
      &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     0.212         0.211 0.658      134. 2.36e-52     2  -999. 2006. 2026.
# ℹ 3 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;</code></pre>
</div>
</div>
<p>The adjusted R-squared (which we need to look at because we’re using more than one explanatory variable) is 0.211, which means that this model explains 21% of the variation in college GPA. Like before, this isn’t great, but it tells us a little bit about the importance of SAT scores.</p>
<p>…</p>
</section>
<section id="a.-do-high-school-gpas-predict-freshman-gpas" class="level4">
<h4 class="anchored" data-anchor-id="a.-do-high-school-gpas-predict-freshman-gpas"><strong>6A. Do high school GPAs predict freshman GPAs?</strong></h4>
<p>Similar to the above in approach, but now the formula is:</p>
<p><img src="assets/linear-regression-equation-hs-fy-gpa.png" class="img-fluid"></p>
<p>And implementing the model in R is as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>model_sat_gpa_hs <span class="ot">&lt;-</span> <span class="fu">lm</span>(gpa_fy <span class="sc">~</span> gpa_hs, <span class="at">data =</span> sat_gpa)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(model_sat_gpa_hs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  term        estimate std.error statistic  p.value
  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 (Intercept)   0.0913    0.118      0.775 4.39e- 1
2 gpa_hs        0.743     0.0363    20.4   6.93e-78</code></pre>
</div>
</div>
<ul>
<li><p>The intercept here (Beta-0) is 0.091, which means that a student with a high school GPA of zero would have a predicted freshman GPA of 0.091, on average. This is nonsensical, so we can ignore it.</p></li>
<li><p>The slope for&nbsp;<code>gpa_hs</code>&nbsp;(Beta-1), on the other hand, is helpful. For every 1 point increase in GPA (i.e.&nbsp;moving from 2.0 to 3.0, or 3.0 to 4.0), there’s an associated increase in college GPA of 0.743 points, on average.</p></li>
</ul>
<p><strong>Checking the R-squared, for this model:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(model_sat_gpa_hs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 12
  r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC   BIC
      &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     0.295         0.295 0.622      418. 6.93e-78     1  -943. 1893. 1908.
# ℹ 3 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;</code></pre>
</div>
</div>
<ul>
<li>The R-squared value is 0.295, which means that nearly 30% of the variation in college GPA can be explained by high school GPA. Neat.</li>
</ul>
</section>
<section id="b.-college-gpa-sat-sex" class="level4">
<h4 class="anchored" data-anchor-id="b.-college-gpa-sat-sex">6B. College GPA ~ SAT + sex</h4>
<p>Next, we can see how both SAT scores and sex affect variation in college GPA with the following model:</p>
<p><img src="assets/linear-regression-equation-gpa-sat-sex.png" class="img-fluid"></p>
<p>Implementation in R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>model_sat_sex <span class="ot">&lt;-</span> <span class="fu">lm</span>(gpa_fy <span class="sc">~</span> sat_total <span class="sc">+</span> sex, <span class="at">data =</span> sat_gpa)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(model_sat_sex, <span class="at">conf.int =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 7
  term        estimate std.error statistic  p.value conf.low conf.high
  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)  -0.0269   0.149      -0.181 8.57e- 1  -0.319     0.265 
2 sat_total     0.0255   0.00145    17.6   1.14e-60   0.0227    0.0284
3 sexMale      -0.274    0.0414     -6.62  6.05e-11  -0.355    -0.193 </code></pre>
</div>
</div>
<ul>
<li><p>Here, stuff gets interesting. The intercept (Beta-0) is once again nonsensical—females with a 0 score on their SAT would have a -0.027 college GPA on average.</p></li>
<li><p>There’s a positive effect with our Beta-1 (or&nbsp;<code>sat_total</code>), since controlling for sex, a one percentile point increase in SAT scores is associated with a 0.026 point increase in freshman GPA, on average.</p></li>
<li><p>If we control for SAT scores, males see an average drop of 0.274 points (Beta-2) in their college GPAs.</p></li>
<li><p>The combination of these two variables, however, doesn’t boost the model’s explanatory power that much.</p></li>
</ul>
<p><strong>Adjusted R-squared:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(model_sat_sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 12
  r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC   BIC
      &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     0.245         0.243 0.644      162. 1.44e-61     2  -978. 1964. 1983.
# ℹ 3 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;</code></pre>
</div>
</div>
<ul>
<li>The adjusted R-squared (which we must look at because we’re using more than one explanatory variable) is 0.243, meaning that the model explains a little over 24% of the variation in college GPAs.</li>
</ul>
</section>
<section id="c.-college-gpa-sat-high-school-gpa-sex" class="level4">
<h4 class="anchored" data-anchor-id="c.-college-gpa-sat-high-school-gpa-sex"><strong>6C. College GPA ~ SAT + high school GPA + sex</strong></h4>
<p>Finally we can see what the effect of SAT scores, high school GPA, and sex is on college GPAs all at the same time, using the following model:</p>
<p><img src="assets/linear-regression-equation-gpa-sat-hs-gpa-sex.png" class="img-fluid"></p>
<p>Implementation in R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>model_sat_hs_sex <span class="ot">&lt;-</span> <span class="fu">lm</span>(gpa_fy <span class="sc">~</span> sat_total <span class="sc">+</span> gpa_hs <span class="sc">+</span> sex, <span class="at">data =</span> sat_gpa)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(model_sat_hs_sex, <span class="at">conf.int =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 7
  term        estimate std.error statistic  p.value conf.low conf.high
  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)  -0.836    0.148       -5.63 2.35e- 8  -1.13     -0.544 
2 sat_total     0.0158   0.00150     10.5  9.72e-25   0.0129    0.0188
3 gpa_hs        0.545    0.0394      13.8  6.61e-40   0.467     0.622 
4 sexMale      -0.143    0.0391      -3.66 2.66e- 4  -0.220    -0.0664</code></pre>
</div>
</div>
<ul>
<li><p>Yet again, the intercept (Beta-0) can be safely ignored. Here it means that a female with a 0.0 high school GPA and an SAT score of 0 would have a college GPA of -0.84, on average. That’s pretty impossible.</p></li>
<li><p>The Beta-1 coefficient for <code>sat_total</code> indicates that taking into account high school GPA and sex, a one percentile point increase in a student’s SAT score is associated with a 0.016 point increase in their college GPA, on average.</p></li>
<li><p>Controlling for SAT scores and sex, a one point increase in high school GPA is associated with a 0.545 point (this is Beta-2) increase in college GPA, on average. This coefficient is lower than the 0.74 point coefficient we found previously. That’s because SAT scores and sex soaked up some of high school GPA’s explanatory power.</p></li>
<li><p>Taking SAT scores and high school GPAs into account, males have a 0.143 point lower GPA in college, on average (this is Beta-3 )</p></li>
</ul>
<p><strong>Adjusted R-squared:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(model_sat_hs_sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 12
  r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC   BIC
      &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     0.367         0.365 0.590      192. 2.67e-98     3  -890. 1790. 1815.
# ℹ 3 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;</code></pre>
</div>
</div>
<ul>
<li>As always, the adjusted&nbsp;&nbsp;shows us how well the model fits overall (again, we have to look at the adjusted&nbsp;&nbsp;because we have more than one explanatory variable). In this case, the model explains 36.5% of the variation in college GPA, which is higher than any of the previous models (but not phenomenal, in the end).</li>
</ul>
<p>…</p>
</section>
<section id="which-model-best-predicts-freshman-gpa-how-do-you-know" class="level4">
<h4 class="anchored" data-anchor-id="which-model-best-predicts-freshman-gpa-how-do-you-know"><strong>7. Which model best predicts freshman GPA? How do you know?</strong></h4>
<p>As you’ve learned in previous stats classes, adjusted&nbsp;&nbsp;generally shows the strength of a model’s fit, or how well the model will predict future values of the outcome variable. If we compare the adjusted&nbsp;&nbsp;for each of the models, we see that the “best” model is the last one.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The modelsummary() function takes a bunch of different regression models and</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># puts them in a neat side-by-side table. In a normal report or analysis, you'd</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co"># include all of these once instead of going one by one like we did above.</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(<span class="fu">list</span>(model_sat_gpa, model_sat_gpa_types, model_sat_gpa_hs, </span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>                  model_sat_sex, model_sat_hs_sex))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script>

    <script>
      // Create table-specific functions using external factory
      const tableFns_jeqda7vgv8em3gngkbm2 = TinyTable.createTableFunctions("tinytable_jeqda7vgv8em3gngkbm2");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '20', j: 2 }, { i: '20', j: 3 }, { i: '20', j: 4 }, { i: '20', j: 5 }, { i: '20', j: 6 } ], css_id: 'tinytable_css_xzpwffswm97ca129qi4s',}, 
          { positions: [ { i: '12', j: 2 }, { i: '12', j: 3 }, { i: '12', j: 4 }, { i: '12', j: 5 }, { i: '12', j: 6 } ], css_id: 'tinytable_css_g7sqtdblz7g7iqd12czw',}, 
          { positions: [ { i: '1', j: 2 }, { i: '2', j: 2 }, { i: '3', j: 2 }, { i: '4', j: 2 }, { i: '5', j: 2 }, { i: '6', j: 2 }, { i: '7', j: 2 }, { i: '8', j: 2 }, { i: '9', j: 2 }, { i: '10', j: 2 }, { i: '11', j: 2 }, { i: '13', j: 2 }, { i: '14', j: 2 }, { i: '15', j: 2 }, { i: '16', j: 2 }, { i: '17', j: 2 }, { i: '18', j: 2 }, { i: '19', j: 2 }, { i: '1', j: 3 }, { i: '2', j: 3 }, { i: '3', j: 3 }, { i: '4', j: 3 }, { i: '5', j: 3 }, { i: '6', j: 3 }, { i: '7', j: 3 }, { i: '8', j: 3 }, { i: '9', j: 3 }, { i: '10', j: 3 }, { i: '11', j: 3 }, { i: '13', j: 3 }, { i: '14', j: 3 }, { i: '15', j: 3 }, { i: '16', j: 3 }, { i: '17', j: 3 }, { i: '18', j: 3 }, { i: '19', j: 3 }, { i: '1', j: 4 }, { i: '2', j: 4 }, { i: '3', j: 4 }, { i: '4', j: 4 }, { i: '5', j: 4 }, { i: '6', j: 4 }, { i: '7', j: 4 }, { i: '8', j: 4 }, { i: '9', j: 4 }, { i: '10', j: 4 }, { i: '11', j: 4 }, { i: '13', j: 4 }, { i: '14', j: 4 }, { i: '15', j: 4 }, { i: '16', j: 4 }, { i: '17', j: 4 }, { i: '18', j: 4 }, { i: '19', j: 4 }, { i: '1', j: 5 }, { i: '2', j: 5 }, { i: '3', j: 5 }, { i: '4', j: 5 }, { i: '5', j: 5 }, { i: '6', j: 5 }, { i: '7', j: 5 }, { i: '8', j: 5 }, { i: '9', j: 5 }, { i: '10', j: 5 }, { i: '11', j: 5 }, { i: '13', j: 5 }, { i: '14', j: 5 }, { i: '15', j: 5 }, { i: '16', j: 5 }, { i: '17', j: 5 }, { i: '18', j: 5 }, { i: '19', j: 5 }, { i: '1', j: 6 }, { i: '2', j: 6 }, { i: '3', j: 6 }, { i: '4', j: 6 }, { i: '5', j: 6 }, { i: '6', j: 6 }, { i: '7', j: 6 }, { i: '8', j: 6 }, { i: '9', j: 6 }, { i: '10', j: 6 }, { i: '11', j: 6 }, { i: '13', j: 6 }, { i: '14', j: 6 }, { i: '15', j: 6 }, { i: '16', j: 6 }, { i: '17', j: 6 }, { i: '18', j: 6 }, { i: '19', j: 6 } ], css_id: 'tinytable_css_dr8q24imuq9mpsvocxx1',}, 
          { positions: [ { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 }, { i: '0', j: 6 } ], css_id: 'tinytable_css_2g4vqr2mwdd5us0f65zv',}, 
          { positions: [ { i: '20', j: 1 } ], css_id: 'tinytable_css_kqexg7d0injo8jpx496r',}, 
          { positions: [ { i: '12', j: 1 } ], css_id: 'tinytable_css_rc4ibkc36yeluwj2mg85',}, 
          { positions: [ { i: '1', j: 1 }, { i: '2', j: 1 }, { i: '3', j: 1 }, { i: '4', j: 1 }, { i: '5', j: 1 }, { i: '6', j: 1 }, { i: '7', j: 1 }, { i: '8', j: 1 }, { i: '9', j: 1 }, { i: '10', j: 1 }, { i: '11', j: 1 }, { i: '13', j: 1 }, { i: '14', j: 1 }, { i: '15', j: 1 }, { i: '16', j: 1 }, { i: '17', j: 1 }, { i: '18', j: 1 }, { i: '19', j: 1 } ], css_id: 'tinytable_css_i18k3zrvlq9wh04uea4p',}, 
          { positions: [ { i: '0', j: 1 } ], css_id: 'tinytable_css_a5g03kd1ech66ekx71o9',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_jeqda7vgv8em3gngkbm2.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
    <style>
    /* tinytable css entries after */
    #tinytable_jeqda7vgv8em3gngkbm2 td.tinytable_css_xzpwffswm97ca129qi4s, #tinytable_jeqda7vgv8em3gngkbm2 th.tinytable_css_xzpwffswm97ca129qi4s {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: center }
    #tinytable_jeqda7vgv8em3gngkbm2 td.tinytable_css_g7sqtdblz7g7iqd12czw, #tinytable_jeqda7vgv8em3gngkbm2 th.tinytable_css_g7sqtdblz7g7iqd12czw {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: center }
    #tinytable_jeqda7vgv8em3gngkbm2 td.tinytable_css_dr8q24imuq9mpsvocxx1, #tinytable_jeqda7vgv8em3gngkbm2 th.tinytable_css_dr8q24imuq9mpsvocxx1 { text-align: center }
    #tinytable_jeqda7vgv8em3gngkbm2 td.tinytable_css_2g4vqr2mwdd5us0f65zv, #tinytable_jeqda7vgv8em3gngkbm2 th.tinytable_css_2g4vqr2mwdd5us0f65zv {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: center }
    #tinytable_jeqda7vgv8em3gngkbm2 td.tinytable_css_kqexg7d0injo8jpx496r, #tinytable_jeqda7vgv8em3gngkbm2 th.tinytable_css_kqexg7d0injo8jpx496r {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: left }
    #tinytable_jeqda7vgv8em3gngkbm2 td.tinytable_css_rc4ibkc36yeluwj2mg85, #tinytable_jeqda7vgv8em3gngkbm2 th.tinytable_css_rc4ibkc36yeluwj2mg85 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: left }
    #tinytable_jeqda7vgv8em3gngkbm2 td.tinytable_css_i18k3zrvlq9wh04uea4p, #tinytable_jeqda7vgv8em3gngkbm2 th.tinytable_css_i18k3zrvlq9wh04uea4p { text-align: left }
    #tinytable_jeqda7vgv8em3gngkbm2 td.tinytable_css_a5g03kd1ech66ekx71o9, #tinytable_jeqda7vgv8em3gngkbm2 th.tinytable_css_a5g03kd1ech66ekx71o9 {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%; ; text-align: left }
    </style>
    <div class="container">
      <table class="tinytable" id="tinytable_jeqda7vgv8em3gngkbm2" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        
        <thead>
              <tr>
                <th scope="col" data-row="0" data-col="1"> </th>
                <th scope="col" data-row="0" data-col="2">(1)</th>
                <th scope="col" data-row="0" data-col="3">(2)</th>
                <th scope="col" data-row="0" data-col="4">(3)</th>
                <th scope="col" data-row="0" data-col="5">(4)</th>
                <th scope="col" data-row="0" data-col="6">(5)</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td data-row="1" data-col="1">(Intercept)</td>
                  <td data-row="1" data-col="2">0.002</td>
                  <td data-row="1" data-col="3">0.007</td>
                  <td data-row="1" data-col="4">0.091</td>
                  <td data-row="1" data-col="5">-0.027</td>
                  <td data-row="1" data-col="6">-0.836</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="1"></td>
                  <td data-row="2" data-col="2">(0.152)</td>
                  <td data-row="2" data-col="3">(0.152)</td>
                  <td data-row="2" data-col="4">(0.118)</td>
                  <td data-row="2" data-col="5">(0.149)</td>
                  <td data-row="2" data-col="6">(0.148)</td>
                </tr>
                <tr>
                  <td data-row="3" data-col="1">sat_total</td>
                  <td data-row="3" data-col="2">0.024</td>
                  <td data-row="3" data-col="3"></td>
                  <td data-row="3" data-col="4"></td>
                  <td data-row="3" data-col="5">0.026</td>
                  <td data-row="3" data-col="6">0.016</td>
                </tr>
                <tr>
                  <td data-row="4" data-col="1"></td>
                  <td data-row="4" data-col="2">(0.001)</td>
                  <td data-row="4" data-col="3"></td>
                  <td data-row="4" data-col="4"></td>
                  <td data-row="4" data-col="5">(0.001)</td>
                  <td data-row="4" data-col="6">(0.002)</td>
                </tr>
                <tr>
                  <td data-row="5" data-col="1">sat_verbal</td>
                  <td data-row="5" data-col="2"></td>
                  <td data-row="5" data-col="3">0.025</td>
                  <td data-row="5" data-col="4"></td>
                  <td data-row="5" data-col="5"></td>
                  <td data-row="5" data-col="6"></td>
                </tr>
                <tr>
                  <td data-row="6" data-col="1"></td>
                  <td data-row="6" data-col="2"></td>
                  <td data-row="6" data-col="3">(0.003)</td>
                  <td data-row="6" data-col="4"></td>
                  <td data-row="6" data-col="5"></td>
                  <td data-row="6" data-col="6"></td>
                </tr>
                <tr>
                  <td data-row="7" data-col="1">sat_math</td>
                  <td data-row="7" data-col="2"></td>
                  <td data-row="7" data-col="3">0.022</td>
                  <td data-row="7" data-col="4"></td>
                  <td data-row="7" data-col="5"></td>
                  <td data-row="7" data-col="6"></td>
                </tr>
                <tr>
                  <td data-row="8" data-col="1"></td>
                  <td data-row="8" data-col="2"></td>
                  <td data-row="8" data-col="3">(0.003)</td>
                  <td data-row="8" data-col="4"></td>
                  <td data-row="8" data-col="5"></td>
                  <td data-row="8" data-col="6"></td>
                </tr>
                <tr>
                  <td data-row="9" data-col="1">gpa_hs</td>
                  <td data-row="9" data-col="2"></td>
                  <td data-row="9" data-col="3"></td>
                  <td data-row="9" data-col="4">0.743</td>
                  <td data-row="9" data-col="5"></td>
                  <td data-row="9" data-col="6">0.545</td>
                </tr>
                <tr>
                  <td data-row="10" data-col="1"></td>
                  <td data-row="10" data-col="2"></td>
                  <td data-row="10" data-col="3"></td>
                  <td data-row="10" data-col="4">(0.036)</td>
                  <td data-row="10" data-col="5"></td>
                  <td data-row="10" data-col="6">(0.039)</td>
                </tr>
                <tr>
                  <td data-row="11" data-col="1">sexMale</td>
                  <td data-row="11" data-col="2"></td>
                  <td data-row="11" data-col="3"></td>
                  <td data-row="11" data-col="4"></td>
                  <td data-row="11" data-col="5">-0.274</td>
                  <td data-row="11" data-col="6">-0.143</td>
                </tr>
                <tr>
                  <td data-row="12" data-col="1"></td>
                  <td data-row="12" data-col="2"></td>
                  <td data-row="12" data-col="3"></td>
                  <td data-row="12" data-col="4"></td>
                  <td data-row="12" data-col="5">(0.041)</td>
                  <td data-row="12" data-col="6">(0.039)</td>
                </tr>
                <tr>
                  <td data-row="13" data-col="1">Num.Obs.</td>
                  <td data-row="13" data-col="2">1000</td>
                  <td data-row="13" data-col="3">1000</td>
                  <td data-row="13" data-col="4">1000</td>
                  <td data-row="13" data-col="5">1000</td>
                  <td data-row="13" data-col="6">1000</td>
                </tr>
                <tr>
                  <td data-row="14" data-col="1">R2</td>
                  <td data-row="14" data-col="2">0.212</td>
                  <td data-row="14" data-col="3">0.212</td>
                  <td data-row="14" data-col="4">0.295</td>
                  <td data-row="14" data-col="5">0.245</td>
                  <td data-row="14" data-col="6">0.367</td>
                </tr>
                <tr>
                  <td data-row="15" data-col="1">R2 Adj.</td>
                  <td data-row="15" data-col="2">0.211</td>
                  <td data-row="15" data-col="3">0.211</td>
                  <td data-row="15" data-col="4">0.295</td>
                  <td data-row="15" data-col="5">0.243</td>
                  <td data-row="15" data-col="6">0.365</td>
                </tr>
                <tr>
                  <td data-row="16" data-col="1">AIC</td>
                  <td data-row="16" data-col="2">2004.8</td>
                  <td data-row="16" data-col="3">2006.4</td>
                  <td data-row="16" data-col="4">1893.0</td>
                  <td data-row="16" data-col="5">1963.8</td>
                  <td data-row="16" data-col="6">1790.2</td>
                </tr>
                <tr>
                  <td data-row="17" data-col="1">BIC</td>
                  <td data-row="17" data-col="2">2019.5</td>
                  <td data-row="17" data-col="3">2026.0</td>
                  <td data-row="17" data-col="4">1907.7</td>
                  <td data-row="17" data-col="5">1983.4</td>
                  <td data-row="17" data-col="6">1814.8</td>
                </tr>
                <tr>
                  <td data-row="18" data-col="1">Log.Lik.</td>
                  <td data-row="18" data-col="2">-999.382</td>
                  <td data-row="18" data-col="3">-999.189</td>
                  <td data-row="18" data-col="4">-943.477</td>
                  <td data-row="18" data-col="5">-977.904</td>
                  <td data-row="18" data-col="6">-890.108</td>
                </tr>
                <tr>
                  <td data-row="19" data-col="1">F</td>
                  <td data-row="19" data-col="2">268.270</td>
                  <td data-row="19" data-col="3">134.244</td>
                  <td data-row="19" data-col="4">418.071</td>
                  <td data-row="19" data-col="5">161.762</td>
                  <td data-row="19" data-col="6">192.141</td>
                </tr>
                <tr>
                  <td data-row="20" data-col="1">RMSE</td>
                  <td data-row="20" data-col="2">0.66</td>
                  <td data-row="20" data-col="3">0.66</td>
                  <td data-row="20" data-col="4">0.62</td>
                  <td data-row="20" data-col="5">0.64</td>
                  <td data-row="20" data-col="6">0.59</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
<p>…</p>
</section>
</section>
</section>
<section id="notes-and-references" class="level1">
<h1>Notes and References:</h1>
<ul>
<li><p><a href="https://evalf20.classes.andrewheiss.com/example/regression/" class="uri">https://evalf20.classes.andrewheiss.com/example/regression/</a></p></li>
<li><p><a href="https://youtu.be/E-Zz5S5NOUo" class="uri">https://youtu.be/E-Zz5S5NOUo</a></p></li>
<li><p><a href="https://chance.dartmouth.edu/course/Syllabi/Princeton96/Class12.html" class="uri">https://chance.dartmouth.edu/course/Syllabi/Princeton96/Class12.html</a></p></li>
<li><p><a href="https://chance.dartmouth.edu/course/Syllabi/Princeton96/princeton96.html" class="uri">https://chance.dartmouth.edu/course/Syllabi/Princeton96/princeton96.html</a></p></li>
<li><p><a href="https://chance.dartmouth.edu/" class="uri">https://chance.dartmouth.edu/</a></p></li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>